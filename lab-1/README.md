# ЛР-1 по ОС в МАИ
Выполнение лабораторной работы №1 по дисциплине "Операционные системы" <br/>
в третьем семестре направления "Фундаментальная информатика и информационные технологии" <br/>
в [Московском авиационном институте](https://mai.ru)


## Цель работы
Целью является приобретение практических навыков в:
- Управление процессами в ОС
- Обеспечение обмена данных между процессами посредством каналов


## Задание (вариант 22)
Составить и отладить программу на языке **C**, осуществляющую работу с процессами и взаимодействие между ними в одной из двух операционных систем.
В результате работы программа (основной процесс) должна создать для решения задачи один или несколько дочерних процессов.
Взаимодействие между процессами осуществляется через системные сигналы/события и/или каналы (`pipe`).

Необходимо обрабатывать системные ошибки, которые могут возникнуть в результате работы.

![scheme for the task](./image.png)

Родительский процесс создает два дочерних процесса. Первой строкой пользователь в консоль
родительского процесса вводит имя файла, которое будет использовано для открытия `File`
с таким именем на запись для `child1`. Аналогично для второй строки и процесса `child2`. 
Родительский и дочерний процесс должны быть представлены разными программами.

Родительский процесс принимает от пользователя строки произвольной длины и пересылает их в `pipe1` или в `pipe2`
в зависимости от правила фильтрации. Процесс `child1` и `child2` производят работу над строками. 
Процессы пишут результаты своей работы в стандартный вывод.

Правило фильтрации: с вероятностью **80%** строки отправляются в `pipe1`, иначе в `pipe2`.
Дочерние процессы инвертируют строки.


## Системные вызовы для ОС Linux
- `pid_t fork()` — создание дочернего процесса;
- `int execve(const char *filename, char *const argv[], char *const envp[])` (и другие вариации
`exec`) — замена образа памяти процесса;
- `pid_t waitpid(pid_t pid, int *status, int options)` — Ожидание завершения дочернего процесса;
- `void exit(int status)` — завершения выполнения процесса и возвращение статуса;
- `int pipe(int pipefd[2])` — создание неименованного канала для передачи данных между
процессами;
- `int dup2(int oldfd, int newfd)` — переназначение файлового дескриптора;
- `int open(const char *pathname, int flags, mode_t mode)` — открытие\создание файла;
- `int close(int fd)` — закрыть файл;
- `int mkfifo(const char *pathname, mode_t mode)` — создание именованного канала.
